USE kalturadw;

DROP TABLE IF EXISTS `dwh_hourly_api_calls`;
CREATE TABLE `dwh_hourly_api_calls` (
  `date_id` int(11) NOT NULL DEFAULT '0',
  `hour_id` tinyint(4) DEFAULT NULL,
  `partner_id` int(11) DEFAULT NULL,
  `action_id` int(11) NOT NULL DEFAULT '0',
  `count_calls` decimal(22,0) DEFAULT NULL,
  `count_success` decimal(23,0) DEFAULT NULL,
  `count_is_in_multi_request` decimal(23,0) DEFAULT NULL,
  `count_is_admin` decimal(14,4) DEFAULT NULL,
  `sum_duration_msecs` decimal(32,0) DEFAULT NULL,
  PRIMARY KEY (`partner_id`,`date_id`,`hour_id`, `action_id`),
  KEY (`date_id`,`hour_id`)
) ENGINE=INNODB DEFAULT CHARSET=utf8
/*!50100 PARTITION BY RANGE (date_id)
(PARTITION p_201001 VALUES LESS THAN (20100201) ENGINE = INNODB,
 PARTITION p_201002 VALUES LESS THAN (20100301) ENGINE = INNODB,
 PARTITION p_201003 VALUES LESS THAN (20100401) ENGINE = INNODB,
 PARTITION p_201004 VALUES LESS THAN (20100501) ENGINE = INNODB,
 PARTITION p_201005 VALUES LESS THAN (20100601) ENGINE = INNODB,
 PARTITION p_201006 VALUES LESS THAN (20100701) ENGINE = INNODB,
 PARTITION p_201007 VALUES LESS THAN (20100801) ENGINE = INNODB,
 PARTITION p_201008 VALUES LESS THAN (20100901) ENGINE = INNODB,
 PARTITION p_201009 VALUES LESS THAN (20101001) ENGINE = INNODB,
 PARTITION p_201010 VALUES LESS THAN (20101101) ENGINE = INNODB,
 PARTITION p_201011 VALUES LESS THAN (20101201) ENGINE = INNODB) */
